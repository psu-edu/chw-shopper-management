<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="./styles.css"/>
    </head>
    <body>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
       <div class="container">
        <a class="navbar-brand fw-semibold" href="Homepage.html">Confused Hardware</a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="Homepage.html" link="https://www.youtube.com/watch?v=dQw4w9WgXcQ">Home</a>
            <a class="nav-link active" aria-current="page" href="Register.html">Shopper Signup</a>
        </div>
       </div>
      </nav>
<form id="registrationForm" class="needs-validation" novalidate autocomplete="off">
        <div class="row">
            <div class="col-md-6">
                <div class="mb-3">
                    <input type="text" class="form-control" id="name" placeholder="Name" required>
                    <div class="invalid-feedback">Give Me your NAME.</div>
                </div>
                <div class="mb-3">
                    <input type="password" class="form-control" id="password" placeholder="Password (min 8 chars)" minlength="8" required>
                    <div class="invalid-feedback">Needs to be 8 Characters Eejit</div>
                </div>
                <div class="mb-3">
                    <input type="number" class="form-control" id="Age" placeholder="Age" required>
                    <div class="invalid-feedback">YOU'RE HOW OLD??? UNC</div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="mb-3">
                    <input type="number" class="form-control" id="phone" placeholder="Phone Number (optional)">
                    <div class="invalid-feedback">I Must Call YOU.</div>
                </div>
                <div class="mb-3">
                    <input type="text" class="form-control" id="email" placeholder="Email" required>
                    <div class="invalid-feedback">GIVE ME YOU CONTACT</div>
                </div>
                <div class="mb-3">
                    <input type="text" class="form-control" id="address" placeholder="Address" required>
                    <div class="invalid-feedback">I Know Where you Live.</div>
                </div>
            </div>
        </div>
        
        <button type="submit" class="btn btn-red">Sign up</button>
    </form>


<script>
  const form = document.getElementById('registrationForm');

    form.addEventListener('submit', event => {
        event.preventDefault(); 

        if (!form.checkValidity()) {
            event.stopPropagation();
        } else {
            saveAndRedirect();
        }

        form.classList.add('was-validated');
    }, false);;

  function saveAndRedirect() {
    const NValue = document.getElementById('name').value;
    const PValue = document.getElementById('password').value;
    const AValue = document.getElementById('address').value;
    const EValue = document.getElementById('email').value;
    const AgeValue = document.getElementById('Age').value;
    const PhValue = document.getElementById('phone').value;

    var JSONObject = {
            "Customer": [
                {"name": NValue},
                {"password": PValue},
                {"address": AValue},
                {"email": EValue},
                {"age": AgeValue},
                {"phone": PhValue}
            ]
        };

    localStorage.setItem('userData', JSON.stringify(JSONObject));
    window.location.href = "homepage.html";
  }
</script>

    </body>